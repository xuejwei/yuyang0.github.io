<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2016-11-14 Mon 23:08 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>The Essential of Programming language</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Yu Yang" />
<meta name="keywords" content="EOPL programming-language  scheme intepreter" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="static/css/main.css"/>
<link rel="shortcut icon" href="static/img/favicon.ico" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "2em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "%LINEBREAKS" },
                        webFont: "%FONT"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "%LINEBREAKS" },
              font: "%FONT"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "%AUTONUMBER"},
               MultLineWidth: "%MULTLINEWIDTH",
               TagSide: "%TAGSIDE",
               TagIndent: "%TAGINDENT"
             }
});
</script>
<script type="text/javascript"
        src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
<div id="preamble" class="status">
<div id="header">
      <div class="inner">
        <h1 id="site-title"><a href="/"> 编码者言 </a></h1>
        <div>
          <a href="###" id="site-nav-btn">菜单</a>
          <ul id="site-nav" class="vertical-nav mobi-hid">
            <li> <a href="/">Home</a></li>
            <li> <a href="/about.html">About</a></li>

            <li> <a href="/tags.html">Tags</a></li>

            <li> <a href="/atom.xml">RSS</a></li>
          </ul>

          <form id="site-search" method="get" action="https://google.com/search">
            <input type="hidden" name="q" value="site:yuyang0.github.io" />
            <input type="text" name="q" placeholder="Search..." />
            <button class="btn-search" type="submit">Search</button>
          </form>
          <div style="clear:both;"> </div>
        </div>
      </div>
    </div>
</div>
<div id="content">
<h1 class="title">The Essential of Programming language</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org6a04fca">Preface</a></li>
<li><a href="#org35b4666">1. Inductive Sets and Data</a>
<ul>
<li><a href="#org0cc79d3">1.1</a>
<ul>
<li><a href="#orgf492449">top-down definition</a></li>
<li><a href="#org86779f1">bottom-up definition</a></li>
<li><a href="#org34c4675">rules of inference</a></li>
</ul>
</li>
<li><a href="#org6576f9a">1.2</a>
<ul>
<li><a href="#org661b2f8">用语法规则定义集合</a></li>
<li><a href="#orgeecf3a4">The Smaller-Subproblem Principle</a>
<ul>
<li><a href="#org78808ed">nth-element</a></li>
<li><a href="#orgeeb9179">remove-first</a></li>
<li><a href="#orgff06c72">occurs-free?</a></li>
<li><a href="#org7a900b0">subst</a></li>
</ul>
</li>
<li><a href="#org98254e9">Follow the Grammar!</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgd9b9c9d">2 Data Abstraction</a>
<ul>
<li><a href="#org8b42bdc">2.3 Interfaces for Recursive Data Types</a></li>
<li><a href="#org99e7c6d">2.4 A Tool for Defining Recursive Data Types</a></li>
</ul>
</li>
<li><a href="#org22b9c47">3 Expressions</a>
<ul>
<li><a href="#orgc4f1443">Some Concepts</a></li>
</ul>
</li>
<li><a href="#org5cac355">4 State</a>
<ul>
<li><a href="#orgf19c581">返回值与副作用的区别</a></li>
<li><a href="#org83f9c40">difference between binding and assignments</a></li>
<li><a href="#org6ecd80b">4.1 Computational Effects</a></li>
<li><a href="#org107f95c">4.5 Parameter Passing Variations</a>
<ul>
<li><a href="#orgaced9c4">Natural Parameter Passing</a></li>
<li><a href="#orgf8f1f72">Call By Reference</a></li>
<li><a href="#orge09a4b4">Call By Value(CBV)</a></li>
<li><a href="#org5113c64">Call By Name(CBN)</a></li>
<li><a href="#orgc9d2799">Call By Need</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgf0dc877">5 Continuation-Passing Interpreter</a>
<ul>
<li><a href="#org7fa4a54">Serveral Concepts</a></li>
</ul>
</li>
<li><a href="#lambda-calculus">lambda calculus</a>
<ul>
<li><a href="#orgd5cf41a">Terms</a></li>
<li><a href="#org1bf3412">Relations</a></li>
<li><a href="#orgc1d7f5a">Normal Form</a></li>
<li><a href="#orgacce698">Evaluation Strategy</a></li>
<li><a href="#orgb311516">Church Encode</a>
<ul>
<li><a href="#org9a9653d">boolean</a></li>
<li><a href="#org01737e1">pair</a></li>
<li><a href="#org380c7be">number</a></li>
<li><a href="#org83826bb">list</a></li>
</ul>
</li>
<li><a href="#orga2e8cb6">Y Combinator</a></li>
<li><a href="#orgadd2a57">Theorems</a>
<ul>
<li><a href="#org3f6b264">Church-Rosser for =<sub>n</sub></a></li>
<li><a href="#org2515884">Diamond Property for →→<sub>n</sub></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgb6830f1">ISWIM</a>
<ul>
<li><a href="#orgd9b43b4">terms</a></li>
<li><a href="#orga27868c">Values</a></li>
</ul>
</li>
<li><a href="#orge49e4ad">Standard reduction</a></li>
<li><a href="#org13a3098">Machines</a>
<ul>
<li><a href="#org90d671e">CC Machine</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-org6a04fca" class="outline-2">
<h2 id="org6a04fca">Preface</h2>
<div class="outline-text-2" id="text-org6a04fca">
<blockquote>
<p>
Perhaps the whole distinction between program and programming language is a
misleading idea, and future programmers will see themselves not as writing
programs in particular, but as creating new languages for each new application.
</p>
</blockquote>
</div>
</div>
<div id="outline-container-org35b4666" class="outline-2">
<h2 id="org35b4666">1. Inductive Sets and Data</h2>
<div class="outline-text-2" id="text-org35b4666">
</div><div id="outline-container-org0cc79d3" class="outline-3">
<h3 id="org0cc79d3">1.1</h3>
<div class="outline-text-3" id="text-org0cc79d3">
</div><div id="outline-container-orgf492449" class="outline-4">
<h4 id="orgf492449">top-down definition</h4>
<div class="outline-text-4" id="text-orgf492449">
<p>
自顶向下意味着从宏观的角度向微观细分
A Scheme list is a list of integers if and only if either
</p>
<ol class="org-ol">
<li>it is the empty list, or</li>
<li>it is a pair whose car is an integer and whose cdr is a list of integers.</li>
</ol>
</div>
</div>

<div id="outline-container-org86779f1" class="outline-4">
<h4 id="org86779f1">bottom-up definition</h4>
<div class="outline-text-4" id="text-org86779f1">
<p>
自底向上意味着从微观的角度向宏观归纳
The set List-of-Int is the smallest set of Scheme lists satisfying the
following two properties:
</p>
<ol class="org-ol">
<li>() ∈ List-of-Int, and</li>
<li>if n ∈ Int and l ∈ List-of-Int, then (n . l) ∈ List-of-Int.</li>
</ol>
</div>
</div>
<div id="outline-container-org34c4675" class="outline-4">
<h4 id="org34c4675">rules of inference</h4>
<div class="outline-text-4" id="text-org34c4675">
\begin{align}
  () \in List-of-Int  \\
  \frac {n \in Int \quad l \in List-of-Int} {(n . l) \in List-of-Int}
\end{align}
</div>
</div>
</div>

<div id="outline-container-org6576f9a" class="outline-3">
<h3 id="org6576f9a">1.2</h3>
<div class="outline-text-3" id="text-org6576f9a">
</div><div id="outline-container-org661b2f8" class="outline-4">
<h4 id="org661b2f8">用语法规则定义集合</h4>
<div class="outline-text-4" id="text-org661b2f8">
\begin{align}
  List-of-Int &::= ()  \\
              &::= (Int . List-of-Int)
\end{align}

<p>
可以缩写为:
</p>
\begin{equation}
  List-of-Int ::= () | (Int . List-of-Int)
\end{equation}
</div>
</div>

<div id="outline-container-orgeecf3a4" class="outline-4">
<h4 id="orgeecf3a4">The Smaller-Subproblem Principle</h4>
<div class="outline-text-4" id="text-orgeecf3a4">
<p>
If we can reduce a problem to a smaller subproblem, we can call the
procedure that solves the problem to solve the subproblem.
</p>
</div>
<div id="outline-container-org78808ed" class="outline-5">
<h5 id="org78808ed">nth-element</h5>
<div class="outline-text-5" id="text-org78808ed">
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #DCDCCC;">(</span><span style="color: #F0DFAF; font-weight: bold;">define</span> <span style="color: #93E0E3;">nth-element</span>
  <span style="color: #BFEBBF;">(</span><span style="color: #F0DFAF; font-weight: bold;">lambda</span> <span style="color: #D0BF8F;">(</span>lst n<span style="color: #D0BF8F;">)</span>
    <span style="color: #D0BF8F;">(</span><span style="color: #F0DFAF; font-weight: bold;">if</span> <span style="color: #93E0E3;">(</span>null? lst<span style="color: #93E0E3;">)</span>
        <span style="color: #93E0E3;">(</span>report-list-too-short n<span style="color: #93E0E3;">)</span>
        <span style="color: #93E0E3;">(</span><span style="color: #F0DFAF; font-weight: bold;">if</span> <span style="color: #9FC59F;">(</span>zero&#65311;n<span style="color: #9FC59F;">)</span>
            <span style="color: #9FC59F;">(</span>car lst<span style="color: #9FC59F;">)</span>
            <span style="color: #9FC59F;">(</span>nth-element <span style="color: #94BFF3;">(</span>cdr lst<span style="color: #94BFF3;">)</span> <span style="color: #94BFF3;">(</span>- n <span style="color: #BFEBBF;">1</span><span style="color: #94BFF3;">)</span><span style="color: #9FC59F;">)</span><span style="color: #93E0E3;">)</span><span style="color: #D0BF8F;">)</span><span style="color: #BFEBBF;">)</span><span style="color: #DCDCCC;">)</span>
<span style="color: #DCDCCC;">(</span><span style="color: #F0DFAF; font-weight: bold;">define</span> <span style="color: #93E0E3;">report-list-too-short</span>
  <span style="color: #BFEBBF;">(</span><span style="color: #F0DFAF; font-weight: bold;">lambda</span> <span style="color: #D0BF8F;">(</span>n<span style="color: #D0BF8F;">)</span>
    <span style="color: #D0BF8F;">(</span>eopl:error &#8217;nth-element
<span style="color: #CC9393;">"List too short by ~s elements.~%"</span> <span style="color: #93E0E3;">(</span>+ n <span style="color: #BFEBBF;">1</span><span style="color: #93E0E3;">)</span><span style="color: #D0BF8F;">)</span><span style="color: #BFEBBF;">)</span><span style="color: #DCDCCC;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgeeb9179" class="outline-5">
<h5 id="orgeeb9179">remove-first</h5>
<div class="outline-text-5" id="text-orgeeb9179">
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #DCDCCC;">(</span><span style="color: #F0DFAF; font-weight: bold;">define</span> <span style="color: #93E0E3;">remove-first</span>
  <span style="color: #BFEBBF;">(</span><span style="color: #F0DFAF; font-weight: bold;">lambda</span> <span style="color: #D0BF8F;">(</span>s los<span style="color: #D0BF8F;">)</span>
    <span style="color: #D0BF8F;">(</span><span style="color: #F0DFAF; font-weight: bold;">if</span> <span style="color: #93E0E3;">(</span>null? los<span style="color: #93E0E3;">)</span>
        '<span style="color: #93E0E3;">()</span>
        <span style="color: #93E0E3;">(</span><span style="color: #F0DFAF; font-weight: bold;">if</span> <span style="color: #9FC59F;">(</span>eqv? s <span style="color: #94BFF3;">(</span>car los<span style="color: #94BFF3;">)</span><span style="color: #9FC59F;">)</span>
            <span style="color: #9FC59F;">(</span>cdr los<span style="color: #9FC59F;">)</span>
            <span style="color: #9FC59F;">(</span>cons <span style="color: #94BFF3;">(</span>car los<span style="color: #94BFF3;">)</span> <span style="color: #94BFF3;">(</span>remove-first s <span style="color: #E0CF9F;">(</span>cdr los<span style="color: #E0CF9F;">)</span><span style="color: #94BFF3;">)</span><span style="color: #9FC59F;">)</span><span style="color: #93E0E3;">)</span><span style="color: #D0BF8F;">)</span><span style="color: #BFEBBF;">)</span><span style="color: #DCDCCC;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgff06c72" class="outline-5">
<h5 id="orgff06c72">occurs-free?</h5>
</div>
<div id="outline-container-org7a900b0" class="outline-5">
<h5 id="org7a900b0">subst</h5>
<div class="outline-text-5" id="text-org7a900b0">
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #DCDCCC;">(</span><span style="color: #F0DFAF; font-weight: bold;">define</span> <span style="color: #93E0E3;">subst</span>
  <span style="color: #BFEBBF;">(</span><span style="color: #F0DFAF; font-weight: bold;">lambda</span> <span style="color: #D0BF8F;">(</span>new old slist<span style="color: #D0BF8F;">)</span>
    <span style="color: #D0BF8F;">()</span><span style="color: #BFEBBF;">)</span><span style="color: #DCDCCC;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org98254e9" class="outline-4">
<h4 id="org98254e9">Follow the Grammar!</h4>
<div class="outline-text-4" id="text-org98254e9">
<p>
When defining a procedure that operates on inductively defined data, the
structure of the program should be patterned after the structure of the
data.
</p>

<p>
更准确的说:
</p>
<ol class="org-ol">
<li>Write one procedure for each nonterminal in the grammar. The procedure
will be responsible for handling the data corresponding to that
nonterminal, and nothing else.</li>
<li>In each procedure, write one alternative for each production correspond-
ing to that nonterminal. You may need additional case structure, but
this will get you started. For each nonterminal that appears in the
right-hand side, write a recursive call to the procedure for that
nonterminal.</li>
</ol>
</div>
</div>
</div>
</div>
<div id="outline-container-orgd9b9c9d" class="outline-2">
<h2 id="orgd9b9c9d">2 Data Abstraction</h2>
<div class="outline-text-2" id="text-orgd9b9c9d">
<p>
\(\lceil v \rceil\) 代表数据 <code>v</code> 的实现
</p>
</div>

<div id="outline-container-org8b42bdc" class="outline-3">
<h3 id="org8b42bdc">2.3 Interfaces for Recursive Data Types</h3>
<div class="outline-text-3" id="text-org8b42bdc">
<p>
Designing an interface for a recursive data type:
</p>
<ol class="org-ol">
<li>Include one constructor for each kind of data in the data type.</li>
<li>Include one predicate for each kind of data in the data type.</li>
<li>Include one extractor for each piece of data passed to a constructor of
the data type.</li>
</ol>
<p>
举个例子, 比如lambda calculus的语法定义是这样:
</p>
\begin{align}
  Lc-exp &::= Identifier \\
         &::= (lambda \ (Identifier) \ Lc-exp) \\
         &::= (Lc-exp \ Lc-exp)
\end{align}

<p>
我们来定义它的interface(<b>注意是接口,不是实现</b>).
</p>
<ol class="org-ol">
<li>Constructor
<ul class="org-ul">
<li>var-exp : Var → Lc-exp</li>
<li>lambda-exp : Var × Lc-exp → Lc-exp</li>
<li>app-exp : Lc-exp × Lc-exp → Lc-exp</li>
</ul></li>
<li>Predicates
<ul class="org-ul">
<li>var-exp? : Lc-exp → Bool</li>
<li>lambda-exp? : Lc-exp → Bool</li>
<li>app-exp? : Lc-exp → Bool</li>
</ul></li>
<li>Extractors
<ul class="org-ul">
<li><b>var-exp-&gt;var</b> :Lc-exp → Var</li>
<li><b>lambda-exp-&gt;bound-var</b> :Lc-exp → Var</li>
<li><b>lambda-exp-&gt;body</b> :Lc-exp → Lc-exp</li>
<li><b>app-exp-&gt;rator</b> :Lc-exp → Lc-exp</li>
<li><b>app-exp-&gt;rand</b> :Lc-exp → Lc-exp</li>
</ul></li>
</ol>
</div>
</div>
<div id="outline-container-org99e7c6d" class="outline-3">
<h3 id="org99e7c6d">2.4 A Tool for Defining Recursive Data Types</h3>
<div class="outline-text-3" id="text-org99e7c6d">
<p>
使用define-datatype来自动的定义一个递归数据类型(<b>接口</b>),以lambda calculus的
语法定义为例子
</p>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #DCDCCC;">(</span>define-datatype lc-exp lc-exp?
  <span style="color: #BFEBBF;">(</span>var-exp
   <span style="color: #D0BF8F;">(</span>var identifier?<span style="color: #D0BF8F;">)</span><span style="color: #BFEBBF;">)</span>
  <span style="color: #BFEBBF;">(</span>lambda-exp
   <span style="color: #D0BF8F;">(</span>bound-var identifier?<span style="color: #D0BF8F;">)</span>
   <span style="color: #D0BF8F;">(</span>body lc-exp?<span style="color: #D0BF8F;">)</span><span style="color: #BFEBBF;">)</span>
  <span style="color: #BFEBBF;">(</span>app-exp
   <span style="color: #D0BF8F;">(</span>rator lc-exp?<span style="color: #D0BF8F;">)</span>
   <span style="color: #D0BF8F;">(</span>rand lc-exp?<span style="color: #D0BF8F;">)</span><span style="color: #BFEBBF;">)</span><span style="color: #DCDCCC;">)</span>
</pre>
</div>
<p>
上面声明了3个constructor: var-exp, lambda-exp, app-exp以及一个
predicate:Lc-exp?.然后可以使用cases来使用上述定义:
</p>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #DCDCCC;">(</span><span style="color: #F0DFAF; font-weight: bold;">define</span> <span style="color: #93E0E3;">occurs-free?</span>
  <span style="color: #BFEBBF;">(</span><span style="color: #F0DFAF; font-weight: bold;">lambda</span> <span style="color: #D0BF8F;">(</span>search-var exp<span style="color: #D0BF8F;">)</span>
    <span style="color: #D0BF8F;">(</span>cases lc-exp exp
           <span style="color: #93E0E3;">(</span>var-exp <span style="color: #9FC59F;">(</span>var<span style="color: #9FC59F;">)</span> <span style="color: #9FC59F;">(</span>eqv? var search-var<span style="color: #9FC59F;">)</span><span style="color: #93E0E3;">)</span>
           <span style="color: #93E0E3;">(</span>lambda-exp <span style="color: #9FC59F;">(</span>bound-var body<span style="color: #9FC59F;">)</span>
                       <span style="color: #9FC59F;">(</span><span style="color: #F0DFAF; font-weight: bold;">and</span>
                        <span style="color: #94BFF3;">(</span>not <span style="color: #E0CF9F;">(</span>eqv? search-var bound-var<span style="color: #E0CF9F;">)</span><span style="color: #94BFF3;">)</span>
                        <span style="color: #94BFF3;">(</span>occurs-free? search-var body<span style="color: #94BFF3;">)</span><span style="color: #9FC59F;">)</span><span style="color: #93E0E3;">)</span>
           <span style="color: #93E0E3;">(</span>app-exp <span style="color: #9FC59F;">(</span>rator rand<span style="color: #9FC59F;">)</span>
                    <span style="color: #9FC59F;">(</span><span style="color: #F0DFAF; font-weight: bold;">or</span>
                     <span style="color: #94BFF3;">(</span>occurs-free? search-var rator<span style="color: #94BFF3;">)</span>
                     <span style="color: #94BFF3;">(</span>occurs-free? search-var rand<span style="color: #94BFF3;">)</span><span style="color: #9FC59F;">)</span><span style="color: #93E0E3;">)</span><span style="color: #D0BF8F;">)</span><span style="color: #BFEBBF;">)</span><span style="color: #DCDCCC;">)</span>
</pre>
</div>
<p>
使用cases可以匹配出一个lc-exp的类型,它到底是var-exp, lambda-exp还是app-exp,
根据不同的情况你可以分支处理,很像一个模式匹配的过程
</p>
</div>
</div>
</div>
<div id="outline-container-org22b9c47" class="outline-2">
<h2 id="org22b9c47">3 Expressions</h2>
<div class="outline-text-2" id="text-org22b9c47">
<p>
本章的目的实际就是用scheme来写一个program来解释执行EOPL中let语言的AST,其实就
是写一个解释器,只是这个解释器直接接受AST,而不是字符串
</p>
</div>
<div id="outline-container-orgc4f1443" class="outline-3">
<h3 id="orgc4f1443">Some Concepts</h3>
<div class="outline-text-3" id="text-orgc4f1443">
<ol class="org-ol">
<li>AST(aka: abstract syntax tree or just syntax tree): 抽象语法树,和Concrete
syntax tree(aka parse tree)像对应,AST不包含一些细节, 比如一个if表达式,在
AST就不会包含 if这样的关键词,因此无论你使用 if(..){..} 还是 if &#x2026; then
&#x2026; fi, 还是其他,它们的AST都是一样的</li>
<li>scanning: 根据词法规则将字符串切分为一个一个的token</li>
<li>parsing: 根据语法规则将scanning生成的token生成一个AST</li>
<li>expressed value: 表达式的值</li>
<li>denoted value: 变量所代表的值</li>
<li>变量的声明与引用(declaration reference): lambda的形参是声明,let内的参数是
声明</li>
<li>作用域(scope): 一个变量起作用的部分就是变量的作用域</li>
<li>lexical depth: 词法深度,用来表示一个变量的引用与该变量声明之间的作用域的
个数,以0为开始</li>
<li>identifiers: a identifier is a string of characters,typically letters or
digits,that refer to an entity,all identifiers are names,but not all
names are identifiers.</li>
<li>name:</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-org5cac355" class="outline-2">
<h2 id="org5cac355">4 State</h2>
<div class="outline-text-2" id="text-org5cac355">
</div><div id="outline-container-orgf19c581" class="outline-3">
<h3 id="orgf19c581">返回值与副作用的区别</h3>
<div class="outline-text-3" id="text-orgf19c581">
<p>
What’s the difference between producing a value and producing an effect?  An
effect is <b>global</b>: it is seen by the entire computation. An effect affects the
entire computation (pun intended).
</p>
</div>
</div>
<div id="outline-container-org83f9c40" class="outline-3">
<h3 id="org83f9c40">difference between binding and assignments</h3>
<div class="outline-text-3" id="text-org83f9c40">
<p>
binding is local, but variable assignment is potentially global.
</p>
</div>
</div>
<div id="outline-container-org6ecd80b" class="outline-3">
<h3 id="org6ecd80b">4.1 Computational Effects</h3>
<div class="outline-text-3" id="text-org6ecd80b">
<p>
计算机内存可以抽象为一个 Map: locations ⟶ storable values
</p>
<ol class="org-ol">
<li>reference: 引用,(left value) A data structure represent location</li>
<li>location: 包含reference指向的数据</li>
<li>variable: One can think variable is same as location.</li>
</ol>
<p>
二者的可以这样类比:reference可以看作是url,而location可以看作是文件,文件包含
数据,而url指向该文件
</p>

<div class="figure">
<p><img src="static/img/env-store.png" alt="env-store.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-org107f95c" class="outline-3">
<h3 id="org107f95c">4.5 Parameter Passing Variations</h3>
<div class="outline-text-3" id="text-org107f95c">
</div><div id="outline-container-orgaced9c4" class="outline-4">
<h4 id="orgaced9c4">Natural Parameter Passing</h4>
<div class="outline-text-4" id="text-orgaced9c4">
<p>
The denoted value is same as the expressed value of the actual
parameter.like the LET language
</p>
</div>
</div>
<div id="outline-container-orgf8f1f72" class="outline-4">
<h4 id="orgf8f1f72">Call By Reference</h4>
<div class="outline-text-4" id="text-orgf8f1f72">
<p>
The Formal Parameter is associated with the same reference of the Actual
Parameter. so if you change the value of formal parameter, the value of
actual parameter also changes.
</p>

<div class="figure">
<p><img src="static/img/call-by-reference.png" alt="call-by-reference.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orge09a4b4" class="outline-4">
<h4 id="orge09a4b4">Call By Value(CBV)</h4>
<div class="outline-text-4" id="text-orge09a4b4">
<p>
The denoted value is a reference to a location containning the expressed
value of the actual parameter.
</p>

<div class="figure">
<p><img src="static/img/call-by-value.png" alt="call-by-value.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-org5113c64" class="outline-4">
<h4 id="org5113c64">Call By Name(CBN)</h4>
</div>
<div id="outline-container-orgc9d2799" class="outline-4">
<h4 id="orgc9d2799">Call By Need</h4>
</div>
</div>
</div>
<div id="outline-container-orgf0dc877" class="outline-2">
<h2 id="orgf0dc877">5 Continuation-Passing Interpreter</h2>
<div class="outline-text-2" id="text-orgf0dc877">
</div><div id="outline-container-org7fa4a54" class="outline-3">
<h3 id="org7fa4a54">Serveral Concepts</h3>
<div class="outline-text-3" id="text-org7fa4a54">
<ol class="org-ol">
<li>Context: According to wikipedia, A task context is the minimal set of
data used by this task at the point it has been interrupted</li>
<li>Data Context: Environment is the abstraction of Data Context</li>
<li>Control Context: Continuation is the abstraction of Control Contextp</li>
</ol>
</div>
</div>
</div>
<div id="outline-container-org2a1c603" class="outline-2">
<h2 id="lambda-calculus"><a id="org2a1c603"></a>lambda calculus</h2>
<div class="outline-text-2" id="text-lambda-calculus">
</div>
<div id="outline-container-orgd5cf41a" class="outline-3">
<h3 id="orgd5cf41a">Terms</h3>
<div class="outline-text-3" id="text-orgd5cf41a">
<p>
The set of lambda-calculus expressions can be defined with following
grammar:
</p>
\begin{eqnarray*}
  M,N,L   &=& X  \\
          &|& (\lambda X.M)  \\
          &|& (M \ M)  \\
  X       &=& \textrm{a variable x,y ...}  \\

\end{eqnarray*}
</div>
</div>

<div id="outline-container-org1bf3412" class="outline-3">
<h3 id="org1bf3412">Relations</h3>
<div class="outline-text-3" id="text-org1bf3412">
<ol class="org-ol">
<li><p>
FV: a relation(function) that maps a lambda calculus expression to a set
free variables.
</p>
\begin{eqnarray*}
  FV(X) &=& \{ X \}  \\
  FV( (\lambda X.M) ) &=& FV(M) / \{X \}  \\
  FV( (M_1 M_2) ) &=& FV(M_1) \cup FV(M_2)  \\

\end{eqnarray*}</li>

<li><p>
\(\_[\_ \leftarrow \_]\): a relation that maps a source expression, a
variable, and an argument expression to a target expression. The target
expression is the same as the source expression, except that free
instances of the variable are replaced by the argument expression:
</p>

\begin{eqnarray*}
  X_1[X_1 \leftarrow M]       &=& M     \\
  X_2[X_1 \leftarrow M]       &=& X_2    \\
  (\lambda X_1.M_1)[X_1 \leftarrow M_2]    &=& (\lambda X_1.M_1)   \\
  (\lambda X_1.M_1)[X_2 \leftarrow M_2]    &=& (\lambda X_3.M_1[X_1 \leftarrow X_3][X_2 \leftarrow M_2]) \\
                                             && where\ X_1 \neq X_2  \quad
                                             X_3 \notin FV(M_1) / \{X_1\} \quad
                                             X_3 \notin FV(M_2) \\
  (M_1 M_2)[X \leftarrow M_3]      &=& (M_1[X \leftarrow M_3] M_2[X \leftarrow M_3])\\

\end{eqnarray*}</li>

<li>&alpha; conversion: a relation that maps a expression to another expression
with formal argument changed.</li>
<li>&beta; reduction: the main reduction relation, encoding function application</li>

<li><p>
&eta; equivalence
</p>
\begin{eqnarray*}
  (\lambda X. M)        &\alpha&   (\lambda Y.M[X \leftarrow Y])   &where\ Y \notin FV(M) \\
  ((\lambda X.M_1) M2)   &\beta&    M_1[X \leftarrow M_2]         & \\
  (\lambda X.(M X))     &\eta&     M                              &where\ X \notin FV(M)  \\
\end{eqnarray*}</li>

<li>\(n = \alpha \cup \beta \cup \eta\)</li>
<li>\(\rightarrow_n^\alpha, \rightarrow_n^\beta, \rightarrow_n^\eta\) is the
compatiable closure of &alpha;, &beta;, &eta;.</li>
<li>\(\twoheadrightarrow_n^\alpha, \twoheadrightarrow_n^\beta,
      \twoheadrightarrow_n^\eta\) is the flexive-transitive closure of
\(\rightarrow_n^\alpha, \rightarrow_n^\beta, \rightarrow_n^\eta\).</li>
<li>\(=_n^\alpha, =_n^\beta, =_n^\eta\) is the symmetric closure of
\(\twoheadrightarrow_n^\alpha, \twoheadrightarrow_n^\beta,
      \twoheadrightarrow_n^\eta\), and the equivalence closure
\(\rightarrow_n^\alpha, \rightarrow_n^\beta, \rightarrow_n^\eta\).</li>
<li>\(\rightarrow_n\): the compatiable closure of <b>n</b>.</li>
<li>\(\twoheadrightarrow_n\): the reflexive-transitive closure of &rarr;<sub>n</sub>.</li>
<li>=<sub>n</sub>: the symmetric closure of \(\twoheadrightarrow_n\), equivalence closure
of \(\rightarrow_n\).</li>
</ol>
</div>
</div>
<div id="outline-container-orgc1d7f5a" class="outline-3">
<h3 id="orgc1d7f5a">Normal Form</h3>
<div class="outline-text-3" id="text-orgc1d7f5a">
<p>
An expression is in normal form if it cann't be reduced by
\(\rightarrow_n^\beta\) or \(\rightarrow_n^\eta\).
</p>

<p>
not every lambda calculus expression has a normal form. for example:
</p>
\begin{eqnarray*}
  \Omega = ((\lambda x.x \ x) (\lambda x.x \ x))
\end{eqnarray*}

<p>
don't have normal form.
</p>
</div>
</div>
<div id="outline-container-orgacce698" class="outline-3">
<h3 id="orgacce698">Evaluation Strategy</h3>
<div class="outline-text-3" id="text-orgacce698">
<ol class="org-ol">
<li>full beta reduction: Any redex may be reduced at any time.</li>
<li>Normal Order Strategy: The leftmoast outermost is always reduced
first.This Strategy can reduce the redex in the body of a function.</li>
<li>Call By Name Strategy: Like Normal Order, but allows no reduction in the
body of function. <b>Call by Need</b> is optimizing version of Call by Name.</li>
<li>Call by Value Strategy: Only Outermost redexs are reduced and where a
redex is reduced only when its right hand side has already been reduced
to a value.</li>
</ol>
</div>
</div>
<div id="outline-container-orgb311516" class="outline-3">
<h3 id="orgb311516">Church Encode</h3>
<div class="outline-text-3" id="text-orgb311516">
</div><div id="outline-container-org9a9653d" class="outline-4">
<h4 id="org9a9653d">boolean</h4>
<div class="outline-text-4" id="text-org9a9653d">
\begin{eqnarray*}
  true &=& \lambda t. \lambda f.t   \\
  false &=& \lambda t.\lambda f.f    \\
  if &=& \lambda v. \lambda t.\lambda f. v\ t\ f  \\

  and &=& \lambda m.\lambda n. ((m\ n)\ false)      \\
  or &=& \lambda m.\lambda n.((m\ true)\ n)         \\
  not &=& \lambda m. if \ m \ false \ true
\end{eqnarray*}

<p>
lambda calculus is call by name. so ``if'' can be implemented as a function.
</p>
</div>
</div>
<div id="outline-container-org01737e1" class="outline-4">
<h4 id="org01737e1">pair</h4>
<div class="outline-text-4" id="text-org01737e1">
\begin{eqnarray*}
  mkpair &=& \lambda m.\lambda n. \lambda b. b\ m\ n   \\
  fst &=& \lambda p. p \ true   \\
  snd &=& \lambda p. p \ false
\end{eqnarray*}

<p>
b is true or false
</p>
</div>
</div>
<div id="outline-container-org380c7be" class="outline-4">
<h4 id="org380c7be">number</h4>
<div class="outline-text-4" id="text-org380c7be">
\begin{eqnarray*}
  zero &=& \lambda s.\lambda z. z     \\
  one &=& \lambda s.\lambda z.s\ z     \\
  two &=& \lambda s.\lambda z.s\ s\ z     \\
  ...                                 \\
  add1 &=& \lambda n. \lambda s.\lambda z. (s (n\ s\ z))  \\
  add &=& \lambda m. \lambda n. m\ add1\ n                \\
  add &=& \lambda m. \lambda n.\lambda s.\lambda z. m\ s (n\ s\ z) \\
  mul &=& \lambda m.\lambda n. m (add\ n) zero    \\

  zz &=& pair\ zero\ zero                         \\
  ss &=& \lambda p. mkpair (snd\ p) (add1 (snd\ p))    \\
  sub1 &=& \lambda n. fst (n\ ss\ zz)                 \\
  sub &=& \lambda m.\lambda n.\lambda s.\lambda z. n\ sub1\ m

\end{eqnarray*}

<p>
<code>s</code> means successor, <code>z</code> means zero. ``zero'' is same with ``false''.
</p>
</div>
</div>
<div id="outline-container-org83826bb" class="outline-4">
<h4 id="org83826bb">list</h4>
<div class="outline-text-4" id="text-org83826bb">
\begin{eqnarray*}
  [x, y, z] &=& \lambda c.\lambda n. (c\ x\ (c\ y\ (c\ z\ n)))         \\
  nil &=& \lambda c.\lambda n. n                       \\
  cons &=& \lambda e.\lambda l.\lambda c.\lambda n. (c\ e\ (l\ c\ n))   \\
  isnil &=& \lambda l. l (\lambda x. false) true                       \\
  head &=& \lambda l. l\ true\ true                 \\

  nn &=& (mkpair\ nil\ nil)                        \\
  ss &=& \lambda e.\lambda p. mkpair (snd\ p) (cons\ e\ (snd\ p)) \\
  tail &=& \lambda l. fst (l\ ss\ nn)
\end{eqnarray*}
</div>
</div>
</div>

<div id="outline-container-orga2e8cb6" class="outline-3">
<h3 id="orga2e8cb6">Y Combinator</h3>
<div class="outline-text-3" id="text-orga2e8cb6">
<p>
假设要在lambda calculus中构造递归函数mul,那么最直观的想法就是:
</p>
\begin{eqnarray*}
  mult = \lambda n.\lambda m.if\ (iszero\ n)\ 0\ (add\ m\ (mult\ (sub1\ n)\ m))
\end{eqnarray*}

<p>
可是上述构造是不合法的,因为你不能在函数体引用你正在定义的函数, 所以函数体不
能有 <code>mult</code>:
</p>
\begin{eqnarray*}
  mkmult0 = \lambda t.\lambda n.\lambda m.if\ (iszero\ n)\ 0\ (add\ m\ (t\ (sub1\ n)\ m))
\end{eqnarray*}

<p>
假设我们已经构造出了mult,那么 (mkmult0 mult) 就是mult了, 可是实际上我们没有
构造出mult,所以mkmult0 仍然不能定义出mult, 同时应该看到一点: mult是mkmult0的
不动点,因此如果我们有一个算子可以求一个函数的不动点,那么就可以将这个算子应用
到 mkmult0 来得到 mult.
</p>

\begin{eqnarray*}
  mkmult1 = \lambda t.\lambda n.\lambda m.if\ (iszero\ n)\ 0\ (add\ m\ ((t\ t)\ (sub1\ n)\ m))
\end{eqnarray*}

<p>
(mkmult1 mkmult1)就是mult了,这就是一个定义递归函数的常用方法了,可是这个方法
比较笨拙,因为我们每一次调用必须将mkmult1应用于自身.更好的做法应该是能将自我
应用的部分提取出来,现在我们假设有一个 <code>mk</code> 函数
</p>
\begin{eqnarray*}
  mk = \lambda t.t\ (mk\ t)
\end{eqnarray*}

<p>
这个函数可以构造出mult: (mk mkmult0),可是 <code>mk</code> 的定义是递归的也犯了最开始定
义mul时同样的错误,所以我们使用 <code>mkmult1</code> 类似的方式来变换一下:
</p>
\begin{eqnarray*}
  mkmk &=& \lambda k.\lambda t.t ((k\ k)\ t)  \\
  mk   &=& (mkmk\ mkmk)
\end{eqnarray*}

<p>
因此我们得到了一个很重要的性质:
</p>
\begin{eqnarray*}
  (mkmult0\ (mk\ mkmult0)) = (mk\ mkmult0)
\end{eqnarray*}

<p>
那么 <code>(mk mkmult0)</code> 产生的函数就是 <code>mkmult0</code> 的不动点,而 <code>mk</code> 就是不动点算子,也
就是说将 <code>mk</code> 作用于一个函数就可以得到该函数的不动点, Y Combinator是一个更常
用的不动点算子:
</p>
\begin{eqnarray*}
  Y = \lambda f.(\lambda x.f\ (x\ x))\ (\lambda x.f\ (x\ x))
\end{eqnarray*}

<p>
这是一个Y combinator的推导过程(slideshare需翻墙):
</p>
<div class="HTML">
<p>
&lt;iframe src="<a href="http://www.slideshare.net/slideshow/embed_code/12319464">http://www.slideshare.net/slideshow/embed_code/12319464</a>"
width="427" height="356" frameborder="0" marginwidth="0" marginheight="0"
scrolling="no" style="border:1px solid #CCC;border-width:1px 1px
0;margin-bottom:5px" allowfullscreen&gt; &lt;/iframe&gt; &lt;div
style="margin-bottom:5px"&gt; &lt;strong&gt; &lt;a
href="<a href="https://www.slideshare.net/yinwang0/reinventing-the-ycombinator">https://www.slideshare.net/yinwang0/reinventing-the-ycombinator</a>"
title="Reinventing the Y combinator" target="<sub>blank</sub>"&gt;Reinventing the Y
combinator&lt;/a&gt; &lt;/strong&gt; from &lt;strong&gt;&lt;a
href="<a href="http://www.slideshare.net/yinwang0">http://www.slideshare.net/yinwang0</a>" target="<sub>blank</sub>"&gt;Ian
Wang&lt;/a&gt;&lt;/strong&gt; &lt;/div&gt;
</p>

</div>
</div>
</div>
<div id="outline-container-orgadd2a57" class="outline-3">
<h3 id="orgadd2a57">Theorems</h3>
<div class="outline-text-3" id="text-orgadd2a57">
</div><div id="outline-container-org3f6b264" class="outline-4">
<h4 id="org3f6b264">Church-Rosser for =<sub>n</sub></h4>
<div class="outline-text-4" id="text-org3f6b264">
<p>
if M =<sub>n</sub> N, then there exists an L such that \(M \twoheadrightarrow_n L\) and
\(N \twoheadrightarrow_n L\).
</p>
</div>
</div>
<div id="outline-container-org2515884" class="outline-4">
<h4 id="org2515884">Diamond Property for →→<sub>n</sub></h4>
<div class="outline-text-4" id="text-org2515884">
<p>
if \(L \twoheadrightarrow_n M\) and \(L \twoheadrightarrow_n N\) then there
exists an expression L1 such that \(M \twoheadrightarrow_n L1\) and \(N
    \twoheadrightarrow_n L1\)
</p>

<div class="figure">
<p><img src="static/img/diamond-property.png" alt="diamond-property.png" />
</p>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb6830f1" class="outline-2">
<h2 id="orgb6830f1">ISWIM</h2>
<div class="outline-text-2" id="text-orgb6830f1">
<p>
The difference between ISWIM and lambda calculus is that ISWIM uses Call By
Value evaluation strategy and it also contains some constants and primitive
operations.
</p>
</div>
<div id="outline-container-orgd9b43b4" class="outline-3">
<h3 id="orgd9b43b4">terms</h3>
<div class="outline-text-3" id="text-orgd9b43b4">
\begin{eqnarray*}
    M, N, L, K  &=&  X      \\
                &|&  (\lambda X.M )  \\
                &|&  (M \ M)  \\
                &|&  b  \\
                &|&  (o^n \ M \ M ... M)  \\
    X           &=&  \textrm{a variable x, y, z ...}  \\
    b           &=&  \textrm{a basic constant}  \\
    o^n         &=&  \textrm{a n-ary primitive operation}  \\
\end{eqnarray*}
</div>
</div>

<div id="outline-container-orga27868c" class="outline-3">
<h3 id="orga27868c">Values</h3>
<div class="outline-text-3" id="text-orga27868c">
\begin{eqnarray*}
    V,U,W   &=&  b                     &\textrm{;constant}  \\
            &|&  X                     &\textrm{;variable}  \\
            &|&  (\lambda X.M)                &\textrm{;function}  \\
\end{eqnarray*}
</div>
</div>
</div>

<div id="outline-container-orge49e4ad" class="outline-2">
<h2 id="orge49e4ad">Standard reduction</h2>
<div class="outline-text-2" id="text-orge49e4ad">
<ol class="org-ol">
<li>If the expression is an application and all components are values, then,
if the expression is a redex, it is the next redex to be reduced; if not,
the program cannot have a value.</li>
<li>If the program is an application such that at least one of its
sub-expressions is not a value, pick the leftmost non-value and search for
a redex in there.</li>
</ol>
</div>
</div>
<div id="outline-container-org13a3098" class="outline-2">
<h2 id="org13a3098">Machines</h2>
<div class="outline-text-2" id="text-org13a3098">
</div><div id="outline-container-org90d671e" class="outline-3">
<h3 id="org90d671e">CC Machine</h3>
<div class="outline-text-3" id="text-org90d671e">
\begin{eqnarray*}
  \left\langle \left( M N \right), E \right\rangle  &
  \mapsto_{cc} & \left\langle M, E \left[ \left( \left[  \right] N
  \right) \right] \right\rangle\\
  \left\langle \left( V_1 N \right), E \right\rangle & \mapsto_{cc} &
  \left\langle N, E \left[ \left( V_1  \left[  \right] \right) \right]
  \right\rangle\\
  \left\langle \left( o^n V_1 \ldots V_i M N \ldots \right) , E
  \right\rangle & \mapsto_{cc} & \left\langle M, E \left[ \left( o^n
  V_1 \ldots V_i  \left[  \right] N \ldots \right) \right] \right\rangle\\
  \left\langle \left( \left( \lambda X.M \right) V \right), E \right\rangle &
  \mapsto_{cc} & \left\langle M \left[ X \leftarrow V \right], E
  \right\rangle\\
  \left\langle \left( o^m b_1 \ldots b_m \right), E \right\rangle &
  \mapsto_{cc} & \left\langle V, E \right\rangle\\
  \left\langle V, E \left[ \left( \left[  \right] N \right) \right]
  \right\rangle & \mapsto_{cc} & \left\langle \left( V N \right), E
  \right\rangle\\
  \left\langle V, E \left[ \left( U \left[  \right] \right) \right]
  \right\rangle & \mapsto_{cc} & \left\langle \left( U V \right), E
  \right\rangle\\
  \left\langle V, E \left[ \left( o^n V_1 \ldots V_i  \left[  \right] N \ldots
  \right) \right] \right\rangle & \mapsto_{cc} & \left\langle \left(
  o^n V_1 \ldots V_i V N \ldots \right) , E \right\rangle
\end{eqnarray*}
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<div id="disqus_comment">
<div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */

    var disqus_config = function () {
        var url_path = window.location.pathname;
        var disqus_identifier = url_path.substring(url_path.lastIndexOf('/')+1);
        disqus_identifier? disqus_identifier: 'index';

        var full_url = window.location.href.replace(/^http:/, 'https:');
        this.page.url = full_url;
        this.page.identifier = disqus_identifier;
        // this.page.title = document.title;
    };

    (function() {  // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
        var d = document, s = d.createElement('script');

        s.src = '//yuyang.disqus.com/embed.js';  // IMPORTANT: Replace EXAMPLE with your forum shortname!

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</div>
<!-- begin footer -->
<div id="footer">
  <ul class="links vertical-nav">
    <li><a href="/sitemap.xml">Sitemap</a></li>
    <li><a href="/atom.xml">RSS</a></li>
    <li><a href="/about.html">About Me</a></li>
    <li><a class="back-to-top" href="#">Back to Top</a></li>
  </ul>
  <span>© 2013 Yu Yang's Blog, Created by org-mode and dropbox</span>
  <a href="#" class="back-to-top" id="fixed-back-to-top" ></a>
</div>
<script src="//apps.bdimg.com/libs/jquery/2.0.0/jquery.min.js"></script>
<script type="text/javascript">
	window.jQuery || document.write('<script src="static/js/jquery-2.0.0.min.js"><\/script>');
	</script>
<script type="text/javascript" src="static/js/custom.js"></script>
<!-- end footer -->
</div>
</body>
</html>
